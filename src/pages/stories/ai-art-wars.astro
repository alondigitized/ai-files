---
import StoryLayout from '../../layouts/StoryLayout.astro';
import stories from '../../data/stories.json';

const story = stories.find(s => s.slug === 'ai-art-wars')!;
---

<style is:global>
  .headline-quote { background: var(--surface2); border: 1px solid var(--story); border-radius: 0.75rem; padding: 2rem; margin: 2rem 0; text-align: center; }
  .headline-quote .hq-text { font-size: 1.4rem; font-weight: 800; color: var(--story); line-height: 1.3; margin-bottom: 0.75rem; letter-spacing: -0.01em; }
  .headline-quote .hq-cite { font-size: 0.82rem; color: var(--muted); }

  .rejection-card { background: var(--surface); border: 1px solid #555; border-radius: 0.5rem; padding: 2rem; margin: 2rem 0; font-family: 'Courier New', monospace; }
  .rejection-card .rej-header { font-size: 0.75rem; letter-spacing: 0.2em; text-transform: uppercase; color: #aaa; border-bottom: 1px solid var(--border); padding-bottom: 0.75rem; margin-bottom: 1rem; }
  .rejection-card .rej-title { font-size: 1rem; font-weight: 700; color: var(--accent); margin-bottom: 0.5rem; letter-spacing: 0.1em; text-transform: uppercase; }
  .rejection-card .rej-body { font-size: 0.85rem; color: #c0c0c0; line-height: 1.6; }

  .phantom-wrap { width: 100%; margin: 0; line-height: 0; }
  .ai-art-wars-canvas { display: block; width: 100%; height: 380px; background: var(--bg); }
  .canvas-note { font-size: 0.78rem; color: var(--muted); text-align: center; margin: 0.75rem 0 0; font-style: italic; }
</style>

<StoryLayout story={story}>
  <div class="container">

<section class="section" id="entry">
  <h2><span class="num">01 — The Entry</span>The Entry</h2>
  <p>Jason Allen, a game designer from Pueblo West, Colorado, spent <strong>more than 80 hours</strong> over several weeks using Midjourney to create art. He ran at minimum 624 text prompts and generated roughly 900 iterations before selecting his final images. He submitted three pieces to the Colorado State Fair's Annual Fine Arts Competition under the name <em>"Jason M. Allen via Midjourney"</em> — the AI tool name was right there in his submission label.</p>
  <p>The category: Digital Arts / Digitally-Manipulated Photography. On August 29, 2022, <strong>"Theatres D'Opera Spatial"</strong> — depicting a grand baroque opera house opening out to a cosmic vista — won first place. The prize: $300.</p>

  <div class="stat-cards">
    <div class="stat-card">
      <div class="stat-num">80+</div>
      <div class="stat-label">Hours of work</div>
    </div>
    <div class="stat-card">
      <div class="stat-num">900+</div>
      <div class="stat-label">Iterations generated</div>
    </div>
    <div class="stat-card">
      <div class="stat-num">$300</div>
      <div class="stat-label">Prize money</div>
    </div>
    <div class="stat-card">
      <div class="stat-num">1st</div>
      <div class="stat-label">Place</div>
    </div>
  </div>
</section>

<section class="section" id="explosion">
  <h2><span class="num">02 — The Explosion</span>The Explosion</h2>
  <p>Allen posted his entries to the Midjourney Discord server before the official announcement. The screenshots went viral on Twitter. The reaction was immediate and incendiary. Artists declared it an act of war.</p>
  <p>One widely-circulated post said: "We're watching the death of artistry unfold right before our eyes." Another compared it to "letting a robot race in the Olympics." Artnet News headlined: <strong>"An A.I.-Generated Artwork Won First Prize at a Colorado State Fair. Human Artists Are Infuriated."</strong></p>
  <p>Within 72 hours, the Washington Post, CNN, NPR, Smithsonian, Al Jazeera, and Slate had all covered it.</p>

  <div class="pull-quote">
    "We're watching the death of artistry unfold right before our eyes."
    <cite>— Anonymous Twitter, September 2022</cite>
  </div>
</section>

<div class="phantom-wrap">
  <canvas class="ai-art-wars-canvas" aria-hidden="true"></canvas>
</div>
<p class="canvas-note"><strong>Mosaic</strong> — Pixels assemble from two sources: one slow and deliberate, one instant and vast. Together they make something. The question is who made it.</p>

<section class="section" id="response">
  <h2><span class="num">03 — Allen Fires Back</span>Allen Fires Back</h2>
  <p>Allen was unapologetic. He told the New York Times he was "on the right side of history." He stressed the creative labor involved in the process and pushed back hard against the idea that he had simply pressed a button and claimed credit.</p>
  <p>On the backlash, he suggested fear was the root cause: artists worried about being replaced. On the rules, he was blunt — he had listed the tool name in his submission. He had broken nothing.</p>

  <div class="headline-quote">
    <div class="hq-text">"Art is dead, dude. It's over. A.I. won. Humans lost."</div>
    <div class="hq-cite">— Jason Allen, New York Times interview, 2022</div>
  </div>

  <p>He also said: <strong>"It's not like you're just smashing words together and winning competitions."</strong> And on the hostility directed at him: <strong>"Maybe, ultimately, the hate and animosity is stemming from fear."</strong> He added he would not apologize — he had won, and he hadn't broken any rules.</p>
</section>

<section class="section" id="judges">
  <h2><span class="num">04 — The Judges' Verdict</span>The Judges' Verdict</h2>
  <p>The judges later told the Pueblo Chieftain they had not known Allen used AI when they made their decision. Then they said something remarkable: <strong>even if they had known, they still would have awarded him first place.</strong> One judge reportedly compared the work to Renaissance-era paintings.</p>
  <p>The Colorado State Fair, responding to the controversy, added a rule for 2023: all entrants must disclose if they used AI. Allen re-entered the 2023 fair with a new AI-assisted work called <em>"Grand Finale."</em> It did not place.</p>
</section>

<section class="section" id="copyright">
  <h2><span class="num">05 — The Copyright Battle</span>The Copyright Battle</h2>
  <p>On September 21, 2022, Allen applied for copyright registration for "Theatres D'Opera Spatial." The U.S. Copyright Office refused in December 2022. He appealed. On September 5, 2023, the USCO Review Board issued a final denial.</p>
  <p>The Board found that Midjourney — not Allen — determined the traditional elements of authorship: composition, line, color, and form. Allen's human contributions were deemed <strong>"de minimis."</strong> He has continued pursuing a federal appeal. He said the denial had "crushed" him economically.</p>

  <div class="rejection-card">
    <div class="rej-header">U.S. Copyright Office — Official Determination</div>
    <div class="rej-title">Registration Refused</div>
    <div class="rej-body">
      <strong>Date:</strong> September 5, 2023<br/><br/>
      <strong>Reason:</strong> AI-generated elements constitute the dominant creative expression. Human contributions deemed de minimis. Midjourney, not the applicant, determined composition, line, and form. The work does not meet the threshold of human authorship required for copyright protection.
    </div>
  </div>
</section>

<section class="section" id="legacy">
  <h2><span class="num">06 — Legacy</span>Legacy</h2>
  <p>The case became the defining moment for the AI art debate: <strong>Who is the author when an AI makes the choices?</strong> Every major art competition subsequently grappled with this question. Some banned AI entirely. Some created separate categories. Some required disclosure.</p>
  <p>The broader art community began fighting back — through lawsuits against AI training data, through new authentication standards, through artist registries explicitly marking work as human-made. The argument Allen started in Pueblo, Colorado in August 2022 is still going.</p>

  <div class="timeline">
    <div class="tl-item">
      <div class="tl-date">Aug 29 2022</div>
      <div class="tl-dot"></div>
      <div class="tl-content">
        <div class="tl-title">"Theatres D'Opera Spatial" wins first place</div>
        <div class="tl-text">Colorado State Fair Annual Fine Arts Competition, Digital Arts category</div>
      </div>
    </div>
    <div class="tl-item">
      <div class="tl-date">~Aug 25</div>
      <div class="tl-dot"></div>
      <div class="tl-content">
        <div class="tl-title">Screenshots begin spreading</div>
        <div class="tl-text">Allen posts to Midjourney Discord; Twitter erupts within hours</div>
      </div>
    </div>
    <div class="tl-item">
      <div class="tl-date">Sep 2 2022</div>
      <div class="tl-dot"></div>
      <div class="tl-content">
        <div class="tl-title">Washington Post: "He used AI art to win a fine-arts prize. Did he cheat?"</div>
        <div class="tl-text">CNN, NPR, Smithsonian, Al Jazeera, and Slate all follow within 72 hours</div>
      </div>
    </div>
    <div class="tl-item">
      <div class="tl-date">Sep 21 2022</div>
      <div class="tl-dot"></div>
      <div class="tl-content">
        <div class="tl-title">Allen applies for U.S. copyright registration</div>
        <div class="tl-text">Seeks authorship credit for "Theatres D'Opera Spatial"</div>
      </div>
    </div>
    <div class="tl-item">
      <div class="tl-date">Dec 2022</div>
      <div class="tl-dot"></div>
      <div class="tl-content">
        <div class="tl-title">Copyright Office issues first refusal</div>
        <div class="tl-text">Allen appeals the decision</div>
      </div>
    </div>
    <div class="tl-item">
      <div class="tl-date">2023</div>
      <div class="tl-dot"></div>
      <div class="tl-content">
        <div class="tl-title">Colorado State Fair adds mandatory AI disclosure rule</div>
        <div class="tl-text">Allen re-enters with "Grand Finale." It does not place.</div>
      </div>
    </div>
    <div class="tl-item">
      <div class="tl-date">Sep 5 2023</div>
      <div class="tl-dot"></div>
      <div class="tl-content">
        <div class="tl-title">USCO Review Board issues final denial</div>
        <div class="tl-text">Human contributions ruled de minimis; Midjourney credited as creative author</div>
      </div>
    </div>
    <div class="tl-item">
      <div class="tl-date">2024</div>
      <div class="tl-dot"></div>
      <div class="tl-content">
        <div class="tl-title">Allen files federal appeal</div>
        <div class="tl-text">Says copyright denial had "crushed" him economically</div>
      </div>
    </div>
  </div>
</section>

  </div>
</StoryLayout>

<script>
(function () {
  const canvas = document.querySelector('.ai-art-wars-canvas') as HTMLCanvasElement | null;
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  if (!ctx) return;

  const AMBER = '#eab308';
  const SETTLED = 'rgba(232,232,232,0.22)';
  const COLS = 20;
  const ROWS = 20;

  let W = 0, H = 0, rafId = 0, frame = 0;
  const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  interface Cell {
    col: number; row: number;
    filled: boolean;
    flashAge: number;      // >0 means flashing (amber)
    flashMax: number;
    isAI: boolean;
  }

  let grid: Cell[] = [];
  let pendingHuman = 0;
  let humanTimer = 0;
  let holdTimer = 0;
  let phase: 'filling' | 'hold' | 'fading' = 'filling';
  let fadeAlpha = 1;

  function resize() {
    const rect = canvas!.getBoundingClientRect();
    W = canvas!.width = rect.width * devicePixelRatio;
    H = canvas!.height = rect.height * devicePixelRatio;
    if (reduced) drawStatic();
  }

  function initGrid() {
    grid = [];
    for (let r = 0; r < ROWS; r++) {
      for (let c = 0; c < COLS; c++) {
        grid.push({ col: c, row: r, filled: false, flashAge: 0, flashMax: 0, isAI: false });
      }
    }
    pendingHuman = 0;
    humanTimer = 0;
    holdTimer = 0;
    phase = 'filling';
    fadeAlpha = 1;
  }

  function cellSize(): { cw: number; ch: number; ox: number; oy: number } {
    const cw = Math.floor(W / COLS);
    const ch = Math.floor(H / ROWS);
    const ox = (W - cw * COLS) / 2;
    const oy = (H - ch * ROWS) / 2;
    return { cw, ch, ox, oy };
  }

  function spawnAIBurst() {
    const unfilled = grid.filter(c => !c.filled);
    if (unfilled.length === 0) return;
    const burst = 8 + Math.floor(Math.random() * 5);
    for (let i = 0; i < burst && unfilled.length > 0; i++) {
      const idx = Math.floor(Math.random() * unfilled.length);
      const cell = unfilled.splice(idx, 1)[0];
      cell.filled = true;
      cell.isAI = true;
      cell.flashAge = 1;
      cell.flashMax = 20 + Math.floor(Math.random() * 15);
    }
  }

  function drawStatic() {
    if (!ctx) return;
    ctx.clearRect(0, 0, W, H);
    const { cw, ch, ox, oy } = cellSize();
    const half = Math.floor(COLS * ROWS / 2);
    for (let i = 0; i < COLS * ROWS; i++) {
      const c = i % COLS, r = Math.floor(i / COLS);
      const x = ox + c * cw, y = oy + r * ch;
      const gap = 1;
      if (i < half) {
        ctx.fillStyle = SETTLED;
        ctx.fillRect(x + gap, y + gap, cw - gap * 2, ch - gap * 2);
      } else if (i < half + 20) {
        // Amber highlights
        ctx.fillStyle = 'rgba(234,179,8,0.45)';
        ctx.fillRect(x + gap, y + gap, cw - gap * 2, ch - gap * 2);
      }
    }
  }

  function tick() {
    if (!ctx) return;
    frame++;

    if (phase === 'filling') {
      // Human pixel: one at a time, every ~18 frames
      humanTimer++;
      if (humanTimer >= 18) {
        humanTimer = 0;
        const unfilled = grid.filter(c => !c.filled);
        if (unfilled.length > 0) {
          const cell = unfilled[Math.floor(Math.random() * unfilled.length)];
          cell.filled = true;
          cell.isAI = false;
          cell.flashAge = 1;
          cell.flashMax = 30;
        }
      }

      // AI burst every ~55 frames
      if (frame % 55 === 0) spawnAIBurst();

      // Check if full
      if (grid.every(c => c.filled)) {
        phase = 'hold';
        holdTimer = 0;
      }
    } else if (phase === 'hold') {
      holdTimer++;
      if (holdTimer > 80) {
        phase = 'fading';
        fadeAlpha = 1;
      }
    } else if (phase === 'fading') {
      fadeAlpha -= 0.012;
      if (fadeAlpha <= 0) {
        initGrid();
      }
    }

    // Advance flash
    grid.forEach(c => {
      if (c.flashAge > 0) c.flashAge++;
    });

    // Draw
    ctx.clearRect(0, 0, W, H);
    const { cw, ch, ox, oy } = cellSize();
    const gap = Math.max(1, Math.floor(devicePixelRatio));

    grid.forEach(c => {
      if (!c.filled) return;
      const x = ox + c.col * cw, y = oy + c.row * ch;
      const flashing = c.flashAge > 0 && c.flashAge <= c.flashMax;
      let color: string;
      if (flashing) {
        const t = 1 - c.flashAge / c.flashMax;
        if (c.isAI) {
          // Amber → settled
          const a = 0.25 + t * 0.7;
          color = `rgba(234,179,8,${a * fadeAlpha})`;
        } else {
          // Warm glow → settled
          const a = 0.22 + t * 0.4;
          color = `rgba(232,220,180,${a * fadeAlpha})`;
        }
      } else {
        color = `rgba(232,232,232,${0.22 * fadeAlpha})`;
      }
      ctx.fillStyle = color;
      ctx.fillRect(x + gap, y + gap, cw - gap * 2, ch - gap * 2);
    });

    rafId = requestAnimationFrame(tick);
  }

  const ro = new ResizeObserver(resize);
  ro.observe(canvas);
  resize();

  if (reduced) {
    drawStatic();
  } else {
    initGrid();
    rafId = requestAnimationFrame(tick);
  }

  window.addEventListener('unload', () => {
    cancelAnimationFrame(rafId);
    ro.disconnect();
  });
})();
</script>
